# Stage1 任务重新编号方案

## 📋 当前问题

发现多个任务编号冲突：
- **Task_1.2.11** 冲突：CVD_Z-score微调优化 vs OFI+CVD融合指标
- **Task_1.2.12** 冲突：OFI-CVD背离检测 vs 集成CVD模块参数热更新
- **Task_1.3.1** 冲突：CVD_Z-score微调优化 vs 收集历史OFI+CVD数据

---

## 🎯 重新编号方案

### 原则
1. **保持已完成任务不变**（Task_1.2.10, Task_1.2.10.1等）
2. **按开发依赖顺序排列**
3. **动态模式切换任务放在核心OFI+CVD任务之后**

---

## 📝 新的任务编号（Stage1.2 - 真实OFI+CVD计算）

### 已完成任务（不变）
- ✅ Task_1.2.10 - CVD计算测试
- ✅ Task_1.2.10.1 - CVD问题修复（特别任务）

### 待开始任务（重新编号）

**旧编号 → 新编号**

1. **Task_1.2.11_OFI+CVD融合指标.md** → **保持 Task_1.2.11**
   - 前置：Task_1.2.10
   - 后续：Task_1.2.12

2. **Task_1.2.12_OFI-CVD背离检测.md** → **保持 Task_1.2.12**
   - 前置：Task_1.2.11
   - 后续：Task_1.2.13

3. **Task_1.2.11_CVD_Z-score微调优化.md** → **改为 Task_1.2.13_CVD_Z-score微调优化.md**
   - 前置：Task_1.2.10.1
   - 后续：Task_1.2.14

4. **Task_1.2.12_集成CVD模块参数热更新.md** → **改为 Task_1.2.14_集成CVD模块参数热更新.md**
   - 前置：Task_0.7, Task_1.2.10
   - 后续：Task_1.2.15

5. **Task_1.2.13_集成OFI与Risk模块参数热更新.md** → **改为 Task_1.2.15_集成OFI与Risk模块参数热更新.md**
   - 前置：Task_0.7, Task_1.2.14
   - 后续：Task_1.2.16

6. **Task_1.2.14_真实环境24小时测试.md** → **改为 Task_1.2.16_真实环境24小时测试.md**
   - 前置：Task_0.7, Task_1.2.14, Task_1.2.15
   - 后续：Task_1.3.6

---

## 📝 新的任务编号（Stage1.3 - OFI+CVD信号验证）

**旧编号 → 新编号**

1. **Task_1.3.1_收集历史OFI+CVD数据.md** → **保持 Task_1.3.1**
   - 前置：Task_1.2.12（背离检测）
   - 后续：Task_1.3.2

2. **Task_1.3.1_CVD_Z-score微调优化.md** → **删除**（与Task_1.2.11重复，内容相同）

3. **Task_1.3.2_创建OFI+CVD信号分析工具.md** → **保持 Task_1.3.2**
   - 前置：Task_1.3.1
   - 后续：Task_1.3.3

4. **Task_1.3.3_分析OFI+CVD预测能力.md** → **保持 Task_1.3.3**
   - 前置：Task_1.3.2
   - 后续：Task_1.3.4

5. **Task_1.3.4_生成OFI+CVD验证报告.md** → **保持 Task_1.3.4**
   - 前置：Task_1.3.3
   - 后续：Task_1.3.5

6. **Task_1.3.5_阶段1总结和决策.md** → **保持 Task_1.3.5**
   - 前置：Task_1.3.4
   - 后续：Task_1.3.6

7. **Task_1.3.6_端到端集成测试.md** → **保持 Task_1.3.6**
   - 前置：Task_1.2.14, Task_1.2.15, Task_1.2.16（动态模式切换）
   - 后续：Task_1.3.7

8. **Task_1.3.7_生产灰度发布准备.md** → **保持 Task_1.3.7**
   - 前置：Task_1.2.16, Task_1.3.6, Task_0.8
   - 后续：Stage2

---

## 🔄 完整的Stage1任务流程图

```
Stage 1.2 - 真实OFI+CVD计算
├── ✅ Task_1.2.10 - CVD计算测试
├── ✅ Task_1.2.10.1 - CVD问题修复
│
├── ⏳ Task_1.2.11 - OFI+CVD融合指标
├── ⏳ Task_1.2.12 - OFI-CVD背离检测
├── ⏳ Task_1.2.13 - CVD_Z-score微调优化
│
├── ⏳ Task_1.2.14 - 集成CVD模块参数热更新 ← 依赖Task_0.7
├── ⏳ Task_1.2.15 - 集成OFI/Risk/Performance模块 ← 依赖Task_0.7
└── ⏳ Task_1.2.16 - 真实环境24小时测试 ← 依赖Task_0.7

Stage 1.3 - OFI+CVD信号验证
├── ⏳ Task_1.3.1 - 收集历史OFI+CVD数据
├── ⏳ Task_1.3.2 - 创建信号分析工具
├── ⏳ Task_1.3.3 - 分析预测能力
├── ⏳ Task_1.3.4 - 生成验证报告
├── ⏳ Task_1.3.5 - 阶段1总结和决策
│
├── ⏳ Task_1.3.6 - 端到端集成测试（动态模式）
└── ⏳ Task_1.3.7 - 生产灰度发布准备
```

---

## ✅ 执行步骤

### 步骤1: 重命名文件（3个文件）
```bash
# 1. Task_1.2.11_CVD_Z-score微调优化.md → Task_1.2.13
mv Task_1.2.11_CVD_Z-score微调优化.md Task_1.2.13_CVD_Z-score微调优化.md

# 2. Task_1.2.12_集成CVD模块参数热更新.md → Task_1.2.14
mv Task_1.2.12_集成CVD模块参数热更新.md Task_1.2.14_集成CVD模块参数热更新.md

# 3. Task_1.2.13_集成OFI与Risk模块参数热更新.md → Task_1.2.15
mv Task_1.2.13_集成OFI与Risk模块参数热更新.md Task_1.2.15_集成OFI与Risk模块参数热更新.md

# 4. Task_1.2.14_真实环境24小时测试.md → Task_1.2.16
mv Task_1.2.14_真实环境24小时测试.md Task_1.2.16_真实环境24小时测试.md
```

### 步骤2: 删除重复文件（1个文件）
```bash
# Task_1.3.1_CVD_Z-score微调优化.md 是重复的，删除
rm Task_1.3.1_CVD_Z-score微调优化.md
```

### 步骤3: 更新每个任务卡内部的编号和关联（7个文件需要更新）
- Task_1.2.11_OFI+CVD融合指标.md - 更新后续任务为Task_1.2.12
- Task_1.2.12_OFI-CVD背离检测.md - 更新前置为Task_1.2.11，后续为Task_1.3.1
- Task_1.2.13_CVD_Z-score微调优化.md - 更新编号，后续为Task_1.2.14
- Task_1.2.14_集成CVD模块参数热更新.md - 更新编号，后置为Task_1.2.15
- Task_1.2.15_集成OFI与Risk模块参数热更新.md - 更新编号，前置为Task_1.2.14，后续为Task_1.2.16
- Task_1.2.16_真实环境24小时测试.md - 更新编号，前置更新，后续为Task_1.3.6
- Task_1.3.6_端到端集成测试.md - 更新前置为Task_1.2.14/15/16

### 步骤4: 更新TASK_INDEX.md和README.md
- 更新任务编号和链接
- 更新任务总数（删除1个重复）

---

## 📊 更新后的统计

### Stage 1.2 - 真实OFI+CVD计算
- 已完成: 2（Task_1.2.10, Task_1.2.10.1）
- 待开始: 6（Task_1.2.11-16）
- 完成率: 25%

### Stage 1.3 - OFI+CVD信号验证
- 已完成: 0
- 待开始: 7（Task_1.3.1-7）
- 完成率: 0%

### Stage 1 总计
- 已完成: 2
- 待开始: 13
- 总任务数: 15（从16减少到15，删除1个重复）
- 完成率: 13%

---

**创建时间**: 2025-10-19 07:00  
**状态**: ✅ 方案已确认，待执行

