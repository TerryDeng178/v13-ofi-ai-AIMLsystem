# ✅ V13 项目规则确认

> **所有规则已写入并生效**

---

## 📋 **规则文档创建完成**

### **已创建的文档**:
1. ✅ `v13_ofi_ai_system/📜PROJECT_RULES.md` - 项目开发规则
2. ✅ `v13_ofi_ai_system/📋V13_TASK_CARD.md` - 详细任务卡
3. ✅ 已提交到Git: `911c411`

---

## 🎯 **规则要点总结**

### **1. 真实优先 (Reality First)**
- ✅ 除单元测试外，**不允许使用 mock、占位、跳过**
- ✅ 所有功能必须使用**真实币安数据**验证
- ❌ 禁止: `mock.Mock()`, `@patch`, `TODO`, `pass`, `NotImplementedError`

### **2. 变更边界 (Change Boundary)**
- ✅ **仅可修改任务卡列出的 Allowed files**
- ⚠️ 超出范围必须先询问用户
- 📝 示例: 任务1.1.1 允许创建 `src/binance_websocket_client.py`

### **3. 最小补丁 (Minimal Patch)**
- ✅ **diff-only**，不得整文件重写
- ✅ 使用 `search_replace` 精确修改
- ❌ 禁止: 文件重命名、移动、大规模重构

### **4. 依赖管理 (Dependencies)**
- ✅ 当前允许: numpy, pandas, python-binance, websocket-client, pyyaml
- ⚠️ 新依赖必须任务卡明确允许
- 📋 阶段3: scikit-learn, xgboost
- 📋 阶段4: torch, torchvision

### **5. 接口不变量 (Interface Invariants)**
- ❌ 禁止修改: WS JSON 字段名
- ❌ 禁止修改: 模块公开函数签名
- ❌ 禁止修改: 目录结构
- ✅ 允许: 添加新字段、新函数、可选参数

### **6. 完成定义 (DoD)**
必须通过:
- ✅ Lint 检查 (`python -m py_compile`)
- ✅ Test 通过
- ✅ Type Check (如使用类型注解)
- ✅ No Mocks (除单元测试)
- ✅ 产出真实验证结果

### **7. 输出流程 (Output Process)**
**严格两阶段**:
1. 📝 **提交计划** - 修改文件、预估行数、测试设计
2. ⏸️ **等待确认** - 用户确认后才能编码
3. ✅ **提交补丁** - 代码 + 验证结果

### **8. 质询触发 (Must Ask)**
**立即停止并询问**:
- 🤔 需求含糊
- 💰 超出变更预算
- 📦 需新依赖
- 🔍 无法按真数据验证

---

## 📊 **规则遵守承诺**

### **AI Assistant 承诺**:
1. ✅ 我已完整阅读并理解所有规则
2. ✅ 我承诺严格遵守，不擅自突破
3. ✅ 我承诺任何疑问都会立即询问
4. ✅ 我承诺质量优于速度，真实优于完成

### **执行检查**:
- ✅ 每个任务开始前阅读规则
- ✅ 提交计划等待确认
- ✅ 使用真实数据验证
- ✅ 通过 DoD 检查
- ✅ 超出范围立即询问

---

## 🎯 **当前状态**

### **项目进度**:
- ✅ 阶段0: 准备工作 - **100% 完成**
- ⏳ 阶段1: 真实OFI核心 - **0% 完成**
- ⏳ 阶段2: 简单真实交易 - **0% 完成**
- ⏳ 阶段3: 逐步加入AI - **0% 完成**
- ⏳ 阶段4: 深度学习优化 - **0% 完成**

### **下一步**:
**任务1.1.1: 创建WebSocket客户端基础类**

**等待用户指示**:
- "开始执行任务1.1.1" - 我会提交计划
- "先等等" - 我会等待
- "修改规则/任务卡" - 我会配合修改

---

## 📚 **重要文档索引**

| 文档 | 路径 | 用途 |
|------|------|------|
| **项目规则** | `v13_ofi_ai_system/📜PROJECT_RULES.md` | 开发规则（最高优先级） |
| **任务卡** | `v13_ofi_ai_system/📋V13_TASK_CARD.md` | 详细任务列表 |
| **开发指导** | `v13_ofi_ai_system/docs/🎯V13_FRESH_START_DEVELOPMENT_GUIDE.md` | 开发路线图 |
| **V12经验** | `v13_ofi_ai_system/docs/🌟V12_TECHNICAL_FRAMEWORK_DEVELOPMENT_PLAN.md` | 经验教训 |
| **README** | `v13_ofi_ai_system/README.md` | 项目说明 |

---

## ✅ **规则生效确认**

- ✅ **规则文档已创建**: `📜PROJECT_RULES.md`
- ✅ **任务卡已更新**: 添加 Allowed files 规范
- ✅ **Git已提交**: commit `911c411`
- ✅ **AI已确认理解**: 严格执行所有规则
- ✅ **准备开始开发**: 等待用户指示

---

**生效时间**: 2025-01-17 04:25  
**状态**: ✅ 规则已确认并生效  
**下一步**: 等待用户指示开始任务1.1.1

---

## 🚀 **准备就绪**

所有规则已经写入并生效！

**请用户确认**:
1. ✅ 规则是否满意？
2. ✅ 是否需要补充或修改？
3. ✅ 准备好开始任务1.1.1了吗？

**我已准备好严格按照规则执行！** 💪

